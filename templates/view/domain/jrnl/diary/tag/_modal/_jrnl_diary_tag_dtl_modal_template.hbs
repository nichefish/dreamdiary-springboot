<#--
 * 저널 일기(jrnl_diary) > 상세 Template
 * @included_in : _jrnl_diary_tag_dtl_modal.ftlh
 -->

<script type="text/x-handlebars-template" id="jrnl_diary_tag_dtl_modal_template">
    {{#each this}}
        {{^if (equals this.mnth (lookup @root._locals "prevMnth"))}}
            <div class="d-flex-center mt-6 mb-4 fs-5 text-dark">{{yy}}년 {{mnth}}월</div>
        {{/if}}

        <div class="jrnl-diary-item">
            <div class="col-1 d-none flex-wrap d-md-flex-align-center py-3 border-2 border-gray-300 border-end me-4 w-130px h-75 gap-2">
                <div class="d-flex flex-wrap align-items-center fs-5 fw-bold {{#if isHldy}}text-danger{{/if}}" style="column-gap: .25rem">
                    <i class="bi bi-calendar3 fs-6 me-1 {{#if isHldy}}text-danger{{/if}}"></i>
                    {{stdrdDt}}
                    {{#ifYn dtUnknownYn}}
                        <i class='bi bi-exclamation-circle cursor-pointer text-noti blink fs-7 ms-2'
                           data-bs-toggle="tooltip" data-bs-placement="top" data-bs-dismiss="click" title="불확실한 일자입니다."></i>
                    {{else}}
                        <span class="fs-8 {{#if isHldy}}text-danger{{else}}text-gray-600{{/if}}">({{jrnlDtWeekDay}})</span>
                    {{/ifYn}}
                    <span class="fs-7 text-muted">{{{weather}}}</span>
                    {{#if (exists hldyNm)}}<div class="w-100 ps-5 fs-6 fw-normal text-truncate">{{hldyNm}}</div>{{/if}}
                </div>
                <div class="d-flex justify-content-end w-85">
                    {{> jrnl_day_mdf_btn_partial this postNo=this.jrnlDayNo}}
                </div>
            </div>
            <div class="col py-3 jrnl-diary-cn {{#ifYn imprtcYn}}bg-secondary{{/ifYn}}">
                {{> jrnl_diary_cn_partial this collapse="collapse-4"}}
            </div>
            <div class="col-1 d-none d-md-flex border-2 border-gray-300 border-end h-75 w-10px">&nbsp;</div>
            <div class="col-1 py-3 d-none d-md-flex-between w-125px gap-1">
                {{> comment_reg_btn_partial this contentType="JRNL_DIARY"}}
                <div class="col-1 border-2 border-gray-300 border-end w-10px">&nbsp;</div>
                {{> jrnl_diary_mdf_btn_partial this}}
            </div>
        </div>

        {{!-- 현재 월을 previousMnth 변수로 저장 --}}
        {{set "prevMnth" this.mnth}}
    {{/each}}
</script>